import React from 'react';
import { useNavigate, useLocation } from 'react-router-dom';
import '../css/SajuReport22.css';
import { useSaju } from '../../context/SajuContext';

const SajuReport22 = () => {
    const navigate = useNavigate();
    const location = useLocation();
    const { sajuData } = useSaju();
    const { name, gender } = sajuData || {};
    const blessingScores = location.state?.blessingScores || {};

    if (!blessingScores || !name || !gender) {
        return <div>ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ì´ì „ í˜ì´ì§€ë¡œ ëŒì•„ê°€ì„¸ìš”.</div>;
    }

    // ë•ë³„ ë©”ì‹œì§€ ë¡œì§ ìœ ì§€
    const blessingMessages = {
        MALE: {
            ì¸: {
                '0%': 'ì¸ê°„ ê´€ê³„ê°€ ë¶€ì¡±í•´ ë§ì€ ë„ì›€ ì–»ê¸° ì–´ë µìŠµë‹ˆë‹¤',
                '1%~42%': 'ì‚¬ëŒë“¤ê³¼ í˜‘ë ¥í•˜ë©° ë”°ëœ»í•œ ìœ ëŒ€ë¥¼ ë§Œë“¤ê³  ìœ ì§€í•©ë‹ˆë‹¤',
                '56%~': 'ì§€ë‚˜ì¹œ ê²½ìŸê³¼ ê°„ì„­ìœ¼ë¡œ ë¶ˆí¸í•¨ì„ ëŠë‚„ ìˆ˜ ìˆìŠµë‹ˆë‹¤',
            },
            ì²˜ê°€: {
                '0%': ' ì²˜ê°€ì˜ ë„ì›€ ì—†ì´ë„ ê°€ì¡±ì˜ ì¡°í™”ë¥¼ ì§€ì¼œëƒ…ë‹ˆë‹¤',
                '1%~42%': 'ì²˜ê°€ì˜ ë„ì›€ìœ¼ë¡œ ì•ˆì •ì ì¸ ê´€ê³„ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤',
                '56%~': 'ì²˜ê°€ì˜ ì§€ë‚˜ì¹œ ì§€ì›ì´ ê°ˆë“±ìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤',
            },
            ì—¬ì: {
                '0%': 'ì—¬ìì™€ì˜ ê´€ê³„ê°€ ë¶€ì¡±í•´ í˜¼ì í•´ê²°í•˜ë ¤ ì• ì”ë‹ˆë‹¤',
                '1%~42%': 'ì—¬ì„±ê³¼ ì˜ í˜‘ë ¥í•˜ì—¬ ê´€ê³„ì˜ ì¡°í™”ë¥¼ ë§Œë“­ë‹ˆë‹¤',
                '56%~': 'ì—¬ìì—ê²Œ ë§ì€ ë„ì›€ì„ ë°›ì§€ë§Œ ë¶ˆí¸í•¨ë„ ë”°ë¦…ë‹ˆë‹¤',
            },
            ìì‹: {
                '0%': 'ìë…€ì™€ì˜ ì†Œí†µ ë¶€ì¡±ìœ¼ë¡œ ì–´ë ¤ì›€ì´ ë”°ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤',
                '1%~42%': 'ìë…€ì™€ í˜‘ë ¥í•˜ì—¬ ì„œë¡œì—ê²Œ ì˜ì§€ê°€ ë©ë‹ˆë‹¤',
                '56%~': 'ìë…€ì—ê²Œ ë§ì€ ê¸°ëŒ€ê°€ ë¶€ë‹´ìœ¼ë¡œ ì‘ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤',
            },
            ë¶€ëª¨: {
                '0%': 'ë¶€ëª¨ì™€ ì†Œí†µ ë¶€ì¡±ìœ¼ë¡œ ê´€ê³„ ê°œì„ ì´ í•„ìš”í•©ë‹ˆë‹¤',
                '1%~42%': 'ë¶€ëª¨ì˜ ë„ì›€ìœ¼ë¡œ ì•ˆì •ëœ ì‚¶ì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤',
                '56%~': 'ë¶€ëª¨ì—ê²Œ ë§ì´ ì˜ì§€í•´ ë…ë¦½ì´ ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤',
            },
        },
        FEMALE: {
            ì¸: {
                '0%': 'ì¸ê°„ ê´€ê³„ê°€ ë¶€ì¡±í•´ ë§ì€ ë„ì›€ ì–»ê¸° ì–´ë µìŠµë‹ˆë‹¤',
                '1%~42%': 'ì‚¬ëŒë“¤ê³¼ í˜‘ë ¥í•˜ë©° ë”°ëœ»í•œ ìœ ëŒ€ë¥¼ ë§Œë“¤ê³  ìœ ì§€í•©ë‹ˆë‹¤',
                '56%~': 'ì§€ë‚˜ì¹œ ê²½ìŸê³¼ ê°„ì„­ìœ¼ë¡œ ë¶ˆí¸í•¨ì„ ëŠë‚„ ìˆ˜ ìˆìŠµë‹ˆë‹¤',
            },
            ìì‹: {
                '0%': 'ìë…€ì™€ì˜ ì†Œí†µ ë¶€ì¡±ìœ¼ë¡œ ì–´ë ¤ì›€ì´ ë”°ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤',
                '1%~42%': 'ìë…€ì™€ í˜‘ë ¥í•˜ì—¬ ì„œë¡œì—ê²Œ ì˜ì§€ê°€ ë©ë‹ˆë‹¤',
                '56%~': 'ìë…€ì—ê²Œ ë§ì€ ê¸°ëŒ€ê°€ ë¶€ë‹´ìœ¼ë¡œ ì‘ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤',
            },
            ì‹œëŒ: {
                '0%': 'ì‹œëŒì˜ ì§€ì› ì—†ì–´ë„ ê°€ì •ì„ ì•ˆì •ì ìœ¼ë¡œ ì´ë•ë‹ˆë‹¤',
                '1%~42%': 'ì‹œëŒì˜ ë„ì›€ìœ¼ë¡œ ì•ˆì •ëœ ê°€ì •ì„ ìœ ì§€í•˜ê²Œ ë©ë‹ˆë‹¤',
                '56%~': 'ì‹œëŒì˜ ë§ì€ ê¸°ëŒ€ê°€ ë¶€ë‹´ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤',
            },
            ë‚¨ì: {
                '0%': 'ë‚¨ìì™€ì˜ ê´€ê³„ê°€ ë¶€ì¡±í•´ í˜¼ì í•´ê²°í•˜ë ¤ ì• ì”ë‹ˆë‹¤',
                '1%~42%': 'ë‚¨ìì™€ í˜‘ë ¥í•˜ì—¬ ê¸ì •ì ì¸ ê´€ê³„ë¥¼ í˜•ì„±í•©ë‹ˆë‹¤',
                '56%~': 'ë‚¨ìì˜ ì§€ë‚˜ì¹œ ë„ì›€ìœ¼ë¡œ ê°ˆë“±ì´ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤',
            },
            ë¶€ëª¨: {
                '0%': 'ë¶€ëª¨ì™€ ì†Œí†µ ë¶€ì¡±ìœ¼ë¡œ ê´€ê³„ ê°œì„ ì´ í•„ìš”í•©ë‹ˆë‹¤',
                '1%~42%': 'ë¶€ëª¨ì˜ ë„ì›€ìœ¼ë¡œ ì•ˆì •ëœ ì‚¶ì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤',
                '56%~': 'ë¶€ëª¨ì—ê²Œ ë§ì´ ì˜ì§€í•´ ë…ë¦½ì´ ì–´ë ¤ì›Œì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤',
            },
        },
    };

    const getBlessingMessage = (blessing, score) => {
        const messages = blessingMessages[gender]?.[blessing] || {};
        if (score === 0) return messages['0%'];
        if (score >= 1 && score <= 42) return messages['1%~42%'];
        if (score >= 56) return messages['56%~'];
        return 'ì ìˆ˜ ë²”ìœ„ì— í•´ë‹¹í•˜ëŠ” ë©”ì‹œì§€ê°€ ì—†ìŠµë‹ˆë‹¤.';
    };

    const getScoreSymbol = (score) => {
        if (score === 0) return 'â—';
        if (score >= 1 && score <= 42) return 'ğŸ‘';
        if (score >= 43) return '!!';
        return '';
    };

    const handleNextPage = () => {
        navigate('/Report23');
    };

    return (
        <div className="report22-container">
            {/* ë‹¤ìŒ í˜ì´ì§€ ë²„íŠ¼ */}
            <button className="nextPage-button" onClick={handleNextPage}>
                ë‹¤ìŒ â–¶
            </button>

            <h1 className="report-title">16. {name}ë‹˜ì˜ 5ëŒ€ ë•, ì¸ì—°ê³¼ ì‚¶ì— ì–´ë–»ê²Œ ì˜í–¥ì„ ì¤„ê¹Œìš”?</h1>
            <p className="report-subtitle">5ë•ì´ ë§Œë“  íŠ¹ë³„í•œ ì¸ì—°ì˜ ë¹„ë°€ì„ ë§Œë‚˜ë³´ì„¸ìš”!</p>

            <p>5ëŒ€ ë•ì´ {name}ë‹˜ì˜ ì¸ì—°ê³¼ ì‚¶ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ í™•ì¸í•˜ì„¸ìš”</p>
            {/* ë•ë³„ ê²°ê³¼ë¥¼ ë Œë”ë§ */}
            {Object.entries(blessingScores).map(([key, value]) => (
                <div className="result-section" key={key}>
                    <div className="result-header">
                        <span className="result-category">{key} ë•</span>
                        <span className="result-score">{getScoreSymbol(value)} {value}%</span>
                    </div>
                    <div className="result-message">{getBlessingMessage(key, value)}</div>
                </div>
            ))}

            <p className="footer-message">5ë•ì˜ ê°€ì¹˜ë¥¼ ì´í•´í•˜ë©´ ì†Œì¤‘í•œ ê´€ê³„ë¥¼ ë” ë‹¨ë‹¨íˆ ë‹¤ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤</p>
        </div>
    );
};

export default SajuReport22;
